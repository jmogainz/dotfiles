# Basic setup
unbind C-b
set -g prefix C-space
bind C-space send-prefix
set -g escape-time 0
set -g history-limit 100000

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-yank'
run '~/.tmux/plugins/tpm/tpm'

# Resurrect & Continuum
set -g @resurrect-capture-pane-contents 'on'
run-shell ~/.tmux/plugins/tmux-resurrect/resurrect.tmux
run-shell ~/.tmux/plugins/tmux-continuum/continuum.tmux

# Terminal colors & clipboard
set -g default-terminal "screen-256color"
set -as terminal-overrides ",xterm-256color:Tc"
set -g mouse on
set -g set-clipboard on

# Status line position
set-option -g status-position top

# Gruvbox Colors
set -g status-bg "#282828"        # dark background
set -g status-fg "#ebdbb2"        # light foreground

# Active window (tab) uses Gruvbox light background for emphasis
set-window-option -g window-status-current-style fg="#282828",bg="#fbf1c7",bold

# Inactive windows subtle and clean
set-window-option -g window-status-style fg="#a89984",bg="#3c3836"

# Pane borders (professional, minimalistic)
set -g pane-border-style fg="#3c3836"
set -g pane-active-border-style fg="#b8bb26"

# Message text styling (commands and messages at bottom)
set -g message-style fg="#ebdbb2",bg="#504945",bold

# Status line (professional appearance, well-structured)
set -g status-left-length 40
set -g status-right-length 100

set -g status-left "#[fg=#fbf1c7,bold] #S #[fg=#a89984]"
set -g status-right "#[fg=#83a598,bold] %Y-%m-%d #[fg=#fabd2f,bold] %I:%M %p "

# Window Status Format
setw -g window-status-format "#[fg=#a89984] #I:#W #[default]"
setw -g window-status-current-format "#[fg=#282828,bg=#fbf1c7,bold] #I:#W #[default]"

# Keybindings (navigation and copy-mode)
bind q killp
bind-key -n C-PageUp next-window
bind-key -n C-PageDown previous-window
bind -n S-PageUp copy-mode -u
bind -n S-PageDown send-keys -X page-down

set -g mode-keys vi
set -g status-keys vi

bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-no-clear pbcopy
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-no-clear pbcopy

bind -Tcopy-mode-vi WheelUpPane send-keys -X scroll-up
bind -Tcopy-mode-vi WheelDownPane send-keys -X scroll-down

# Session chooser
bind s choose-tree -s

